<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        // 举个例子：让JS执行4件事
        // 1.打印1
        console.log(1);

        // 2.设置延迟函数，延迟0秒
        setTimeout(function () {
            console.log(2);
        },0)

        // 3.执行一个for循环，让for循环的时间稍微长一些
        var num = 0
        for (var i=0;i<100000;i++){
            num+=i
        }
        console.log(num);

        // 最后打印一个3
        console.log(3);

        // 对于这样的JS，控制台打印出 1 num 3 2
        // 如果没有for循环，那么出现1 3 2可能是打印2是因为有延迟函数的原因
        // 但是现在有for循环，而且for循环的循环次数很大，肯定超过0毫秒
        // 但仍然延迟函数最后生效

        // 所以JS的执行过程是：单线程+事件列队
        // JS在执行过程中遇到以下任务放入时间列队：
        // 1.延迟函数
        // 2.事件
        // 3.ajax的回调函数
        // 而这三件事的执行必须首先满足一个大条件 主线程已空闲
        // 然后再开始监听任务本身的条件，比如开始计算延迟时间，开始监听事件
        // 再当满足后才会执行函数
        // 这就是异步原理
        // 如果仅仅为单线程 假如延迟函数延迟很长，或为某元素绑定了一个点击事件，用户一直没有点击
        // 那么页面将会一直加载不完成

        // 上面这个例子 任务单线程从上而下执行
        // 当执行到延迟函数，会将延迟函数放进事件队列中等待，然后继续执行下面的任务
        // 当所有任务执行完成，主线程空闲时，才会计时开始执行延迟函数
    </script>
</body>
</html>